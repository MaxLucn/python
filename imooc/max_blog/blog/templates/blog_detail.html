{% extends 'base.html' %}
{% block title %}
    {#  把后台定义的博客的标签用作页面的标题 #}
    {{ blog.title_tag }}
{% endblock %}
{% block content %}
    <h2>博客详情</h2>
    <h4>{{ blog.title }}</h4>
    <small>
        作者:{{ blog.author }}<br>
        创建日期:{{ blog.created_at }}<br>
{#        当前用户ID: {{ user.id }}<br>#}
{#        作者ID：{{ blog.author.id }}<br>#}
        {% if user.is_authenticated %}
            {% if user.id == blog.author.id %}
                {# 如果当前登录的用户跟创建博客的用户 id 一致才可以进行以下操作 #}
                <button>
                    <a href="{% url 'update_blog' blog.id %}">更新</a>
                </button>
                <button>
                    <a href="{% url 'delete_blog' blog.id %}">删除</a>
                </button>
            {% endif %}
        {% endif %}

    </small>
    <br/>
    <hr>

    <p>{{ blog.content|safe }}</p>
    <br/>
    {# 返回博客列表#}
    <button>
        <a href="{% url 'blog' %}" type="button" class="btn btn-secondary">返回</a>
    </button>
{% endblock %}
